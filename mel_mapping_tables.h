// log-mel spectrogram (128 x N frames)
// Written by Kenta Iwasaki. All rights reserved.
// 2025-08-10

#pragma once

#include <stdint.h>

static const uint16_t mel_row_ptr[129] = {
    0,   1,   2,   3,   4,   5,   7,   8,   9,   10,  11,  13,  14,  15,  16,
    17,  18,  19,  21,  22,  23,  24,  25,  27,  28,  29,  30,  31,  32,  33,
    35,  36,  37,  38,  39,  41,  42,  43,  44,  45,  46,  47,  49,  50,  51,
    53,  54,  55,  57,  58,  59,  61,  62,  63,  65,  67,  69,  71,  72,  73,
    75,  77,  79,  81,  83,  85,  87,  89,  92,  95,  97,  99,  101, 104, 107,
    109, 112, 115, 117, 120, 123, 126, 129, 132, 136, 139, 142, 146, 150, 154,
    157, 160, 164, 168, 173, 178, 182, 186, 191, 196, 200, 205, 210, 215, 221,
    226, 231, 237, 243, 249, 255, 261, 267, 274, 281, 288, 295, 302, 310, 317,
    324, 332, 341, 350, 358, 367, 376, 385, 394};
static const uint8_t mel_col_idx[394] = {
    1,   1,   2,   2,   3,   3,   4,   4,   5,   5,   6,   6,   7,   7,   8,
    8,   9,   9,   10,  10,  11,  11,  12,  12,  13,  13,  14,  14,  15,  15,
    16,  16,  17,  17,  18,  18,  19,  19,  20,  20,  21,  21,  22,  22,  23,
    23,  24,  24,  25,  25,  26,  26,  27,  27,  28,  28,  29,  29,  30,  30,
    31,  31,  32,  32,  33,  33,  34,  34,  35,  35,  36,  36,  37,  37,  38,
    38,  39,  39,  40,  40,  41,  41,  42,  42,  43,  43,  44,  44,  45,  45,
    46,  47,  46,  47,  48,  48,  49,  49,  50,  50,  51,  51,  52,  53,  52,
    53,  54,  54,  55,  55,  56,  57,  56,  57,  58,  58,  59,  59,  60,  61,
    60,  61,  62,  62,  63,  64,  63,  64,  65,  65,  66,  67,  66,  67,  68,
    69,  68,  69,  70,  70,  71,  72,  71,  72,  73,  74,  73,  74,  75,  76,
    75,  76,  77,  78,  77,  78,  79,  79,  80,  81,  80,  81,  82,  83,  82,
    83,  84,  85,  84,  85,  86,  87,  88,  86,  87,  88,  89,  90,  89,  90,
    91,  92,  91,  92,  93,  94,  93,  94,  95,  96,  97,  95,  96,  97,  98,
    99,  98,  99,  100, 101, 100, 101, 102, 103, 104, 102, 103, 104, 105, 106,
    105, 106, 107, 108, 109, 107, 108, 109, 110, 111, 112, 110, 111, 112, 113,
    114, 113, 114, 115, 116, 117, 115, 116, 117, 118, 119, 120, 118, 119, 120,
    121, 122, 123, 121, 122, 123, 124, 125, 126, 124, 125, 126, 127, 128, 129,
    127, 128, 129, 130, 131, 132, 130, 131, 132, 133, 134, 135, 133, 134, 135,
    136, 137, 138, 139, 136, 137, 138, 139, 140, 141, 142, 140, 141, 142, 143,
    144, 145, 146, 143, 144, 145, 146, 147, 148, 149, 147, 148, 149, 150, 151,
    152, 153, 150, 151, 152, 153, 154, 155, 156, 157, 154, 155, 156, 157, 158,
    159, 160, 158, 159, 160, 161, 162, 163, 164, 161, 162, 163, 164, 165, 166,
    167, 168, 165, 166, 167, 168, 169, 170, 171, 172, 173, 169, 170, 171, 172,
    173, 174, 175, 176, 177, 174, 175, 176, 177, 178, 179, 180, 181, 178, 179,
    180, 181, 182, 183, 184, 185, 186, 182, 183, 184, 185, 186, 187, 188, 189,
    190, 187, 188, 189, 190, 191, 192, 193, 194, 195, 191, 192, 193, 194, 195,
    196, 197, 198, 199};
static const float mel_weight[394] = {
    1.2373986653983593e-2f, 3.0392564833164215e-2f, 2.4747973307967186e-2f,
    1.8018579110503197e-2f, 3.7121959030628204e-2f, 5.644591990858316e-3f,
    6.729394197463989e-3f,  3.603715822100639e-2f,  1.9103379920125008e-2f,
    2.3663168773055077e-2f, 3.1477365642786026e-2f, 1.1289183981716633e-2f,
    1.0848019737750292e-3f, 4.168175160884857e-2f,  1.3458788394927979e-2f,
    2.9307762160897255e-2f, 2.5832774117588997e-2f, 1.6933776438236237e-2f,
    3.8206759840250015e-2f, 4.559790249913931e-3f,  7.814195938408375e-3f,
    3.495235741138458e-2f,  2.0188182592391968e-2f, 2.2578367963433266e-2f,
    3.2562170177698135e-2f, 1.0204383172094822e-2f, 2.1696039475500584e-3f,
    4.059694707393646e-2f,  1.454358920454979e-2f,  2.8222959488630295e-2f,
    2.6917576789855957e-2f, 1.5848975628614426e-2f, 3.9291560649871826e-2f,
    3.4749882761389017e-3f, 8.898998610675335e-3f,  3.386755287647247e-2f,
    2.1272985264658928e-2f, 2.1493567153811455e-2f, 3.3646970987319946e-2f,
    9.119580499827862e-3f,  3.254405688494444e-3f,  3.951214626431465e-2f,
    1.562839187681675e-2f,  2.7138158679008484e-2f, 2.8002377599477768e-2f,
    1.4764172956347466e-2f, 4.0376365184783936e-2f, 2.3806870449334383e-3f,
    1.0202637873589993e-2f, 3.161146119236946e-2f,  2.4547001346945763e-2f,
    1.5329193323850632e-2f, 1.665837480686605e-3f,  3.6729052662849426e-2f,
    2.0097099244594574e-2f, 1.6931025311350822e-2f, 2.9026553966104984e-3f,
    3.2844990491867065e-2f, 2.3520048707723618e-2f, 1.1038944125175476e-2f,
    1.0725829750299454e-2f, 2.2718291729688644e-2f, 3.227872774004936e-2f,
    1.1626833293121308e-4f, 2.2853482514619827e-2f, 8.563440293073654e-3f,
    1.4979788102209568e-2f, 1.5513983555138111e-2f, 8.514906279742718e-3f,
    2.110680378973484e-2f,  3.326520323753357e-3f,  2.547064796090126e-2f,
    2.735907956957817e-2f,  6.585361552424729e-4f,  2.383812516927719e-2f,
    3.4435924608260393e-3f, 2.1224552765488625e-2f, 5.3584217093884945e-3f,
    1.9425557926297188e-2f, 6.493247114121914e-3f,  1.8355421721935272e-2f,
    6.931380834430456e-3f,  1.7935046926140785e-2f, 6.7496825940907e-3f,
    1.8091518431901932e-2f, 6.018991116434336e-3f,  1.8757672980427742e-2f,
    4.804528318345547e-3f,  1.9871728494763374e-2f, 3.1662785913795233e-3f,
    2.137690968811512e-2f,  1.253173453733325e-3f,  1.1593446834012866e-3f,
    2.080361731350422e-2f,  4.044868052005768e-3f,  1.7553631216287613e-2f,
    7.083200383931398e-3f,  1.4075386337935925e-2f, 1.0326550342142582e-2f,
    1.0409214533865452e-2f, 1.3736963272094727e-2f, 6.591876968741417e-3f,
    1.7279881983995438e-2f, 1.4680421445518732e-3f, 2.6568188332021236e-3f,
    1.809193193912506e-2f,  5.856557283550501e-3f,  1.3342779129743576e-2f,
    1.0282675735652447e-2f, 8.56800377368927e-3f,   1.472230814397335e-2f,
    1.040398608893156e-3f,  3.790855873376131e-3f,  1.714678481221199e-2f,
    6.116092670708895e-3f,  1.1759290471673012e-2f, 1.1133937165141106e-2f,
    6.438578478991985e-3f,  1.607806235551834e-2f,  4.239172209054232e-3f,
    1.1998937698081136e-3f, 1.2756715528666973e-2f, 9.65298991650343e-3f,
    7.069352548569441e-3f,  1.4940546825528145e-2f, 4.190248437225819e-3f,
    1.5148338861763477e-3f, 1.2008999474346638e-2f, 9.848233312368393e-3f,
    6.102240178734064e-3f,  1.533857174217701e-2f,  5.576768424361944e-3f,
    3.6827256553806365e-4f, 9.89749375730753e-3f,   1.1353404261171818e-2f,
    2.0512230694293976e-3f, 3.892971435561776e-3f,  1.2973522767424583e-2f,
    8.06631613522768e-3f,   6.744932383298874e-3f,  1.3858746737241745e-2f,
    5.411905236542225e-3f,  7.422015769407153e-4f,  8.987790904939175e-3f,
    1.1378713883459568e-2f, 3.329580882564187e-3f,  2.8231353498995304e-3f,
    1.0680492967367172e-2f, 9.43340640515089e-3f,   1.7632555682212114e-3f,
    4.3901861645281315e-3f, 1.1877589859068394e-2f, 7.970058359205723e-3f,
    6.610470009036362e-4f,  5.494666751474142e-3f,  1.2629535980522633e-2f,
    6.93987961858511e-3f,   6.184019148349762e-3f,  1.29347313195467e-2f,
    6.29778765141964e-3f,   2.3252101527759805e-5f, 6.502066273242235e-3f,
    1.23266177251935e-2f,   6.002165377140045e-3f,  3.1548753031529486e-4f,
    6.489255465567112e-3f,  1.2041302397847176e-2f, 6.014628801494837e-3f,
    2.9979555984027684e-4f, 6.182880140841007e-3f,  1.2042728252708912e-2f,
    6.299811881035566e-3f,  5.568959750235081e-4f,  1.1204706424905453e-5f,
    5.617291666567326e-3f,  1.1223378591239452e-2f, 6.8251630291342735e-3f,
    1.3526449911296368e-3f, 4.824100062251091e-3f,  1.0166232474148273e-2f,
    7.560755126178265e-3f,  2.345903078094125e-3f,  3.832357469946146e-3f,
    8.922962471842766e-3f,  8.47910437732935e-3f,   3.509786445647478e-3f,
    2.6687318459153175e-3f, 7.519651670008898e-3f,  9.555005468428135e-3f,
    4.819661378860474e-3f,  8.431751484749839e-5f,  1.357673667371273e-3f,
    5.980195011943579e-3f,  1.060271542519331e-2f,  6.2529849819839e-3f,
    1.7405991675332189e-3f, 4.326442256569862e-3f,  8.731318637728691e-3f,
    7.789165247231722e-3f,  3.489238675683737e-3f,  2.5783509481698275e-3f,
    6.775828544050455e-3f,  9.40941646695137e-3f,   5.311945918947458e-3f,
    1.2144759530201554e-3f, 7.541119121015072e-4f,  4.753957036882639e-3f,
    8.753802627325058e-3f,  7.192090153694153e-3f,  3.287544008344412e-3f,
    2.6817969046533108e-3f, 6.4933146350085735e-3f, 9.114579297602177e-3f,
    5.393873900175095e-3f,  1.6731682699173689e-3f, 5.739429616369307e-4f,
    4.2060003615915775e-3f, 7.838058285415173e-3f,  7.520230021327734e-3f,
    3.974708262830973e-3f,  4.2918731924146414e-4f, 1.9046447705477476e-3f,
    5.365691613405943e-3f,  8.826738223433495e-3f,  6.2760948203504086e-3f,
    2.8975096065551043e-3f, 2.8988525737076998e-3f, 6.196940783411264e-3f,
    8.566990494728088e-3f,  5.347481928765774e-3f,  2.127972897142172e-3f,
    4.475022724363953e-4f,  3.5903039388358593e-3f, 6.733105983585119e-3f,
    7.770236115902662e-3f,  4.702313803136349e-3f,  1.6343912575393915e-3f,
    1.0153602343052626e-3f, 4.010187461972237e-3f,  7.005014456808567e-3f,
    7.234429940581322e-3f,  4.3109566904604435e-3f, 1.3874832075089216e-3f,
    1.3334885006770492e-3f, 4.187308251857758e-3f,  7.041127886623144e-3f,
    6.9318837486207485e-3f, 4.146058112382889e-3f,  1.3602323597297072e-3f,
    1.4287971425801516e-3f, 4.148248583078384e-3f,  6.867699790745974e-3f,
    6.837052758783102e-3f,  4.182394593954086e-3f,  1.5277357306331396e-3f,
    1.3261043932288885e-3f, 3.917513880878687e-3f,  6.508923601359129e-3f,
    6.926396861672401e-3f,  4.3967291712760925e-3f, 1.8670617137104273e-3f,
    1.0482777142897248e-3f, 3.5176740493625402e-3f, 5.9870705008506775e-3f,
    7.178240455687046e-3f,  4.767679143697023e-3f,  2.357117598876357e-3f,
    6.163640646263957e-4f,  2.9694922268390656e-3f, 5.322620272636414e-3f,
    7.572650909423828e-3f,  5.275587551295757e-3f,  2.9785241931676865e-3f,
    6.814609514549375e-4f,  4.9713995394995436e-5f, 2.2920481860637665e-3f,
    4.534382373094559e-3f,  6.776716560125351e-3f,  5.9024072252213955e-3f,
    3.71349835768342e-3f,   1.5245892573148012e-3f, 1.5028533525764942e-3f,
    3.6396104842424393e-3f, 5.776367150247097e-3f,  6.6315908916294575e-3f,
    4.545743577182293e-3f,  2.459896495565772e-3f,  3.7404923932626843e-4f,
    6.179586052894592e-4f,  2.65410915017128e-3f,   4.690259229391813e-3f,
    6.726410239934921e-3f,  5.460347048938274e-3f,  3.4727093297988176e-3f,
    1.4850713778287172e-3f, 1.592335756868124e-3f,  3.5326166544109583e-3f,
    5.472897551953793e-3f,  6.4436825923621655e-3f, 4.549629986286163e-3f,
    2.655577613040805e-3f,  7.615251233801246e-4f,  4.6749351895414293e-4f,
    2.3164190351963043e-3f, 4.165344405919313e-3f,  6.0142697766423225e-3f,
    5.678446963429451e-3f,  3.8735736161470413e-3f, 2.068700036033988e-3f,
    2.638266596477479e-4f,  1.0534910252317786e-3f, 2.815362298861146e-3f,
    4.5772334560751915e-3f, 6.339104846119881e-3f,  5.1281568594276905e-3f,
    3.4082632046192884e-3f, 1.6883700154721737e-3f, 1.4335009036585689e-3f,
    3.1124167144298553e-3f, 4.79133240878582e-3f,   6.40943692997098e-3f,
    4.770522005856037e-3f,  3.1316077802330256e-3f, 1.4926930889487267e-3f,
    2.9323589842533693e-5f, 1.629189937375486e-3f,  3.229056019335985e-3f,
    4.82892245054245e-3f,   6.146714556962252e-3f,  4.584966227412224e-3f,
    3.0232176650315523e-3f, 1.4614691026508808e-3f, 1.3601698447018862e-4f,
    1.660555717535317e-3f,  3.185094567015767e-3f,  4.709633067250252e-3f,
    6.040723994374275e-3f,  4.5525087043643e-3f,    3.064292948693037e-3f,
    1.576077425852418e-3f,  8.786193211562932e-5f,  9.328097075922415e-5f,
    1.546038780361414e-3f,  2.998796757310629e-3f,  4.451554734259844e-3f,
    5.9043122455477715e-3f, 4.6556610614061356e-3f, 3.237516153603792e-3f,
    1.8193712458014488e-3f, 4.0122633799910545e-4f, 1.3026263331994414e-3f,
    2.686982974410057e-3f,  4.071339499205351e-3f,  5.455696024000645e-3f,
    4.878324922174215e-3f,  3.5269514191895723e-3f, 2.1755779162049294e-3f,
    8.242045878432691e-4f,  9.459502762183547e-4f,  2.265126211568713e-3f,
    3.5843022633343935e-3f, 4.9034785479307175e-3f, 5.205697845667601e-3f,
    3.9179520681500435e-3f, 2.63020652346313e-3f,   1.342460629530251e-3f,
    5.471494296216406e-5f,  4.903789376839995e-4f,  1.7474433407187462e-3f,
    3.004507627338171e-3f,  4.261571913957596e-3f,  5.518636200577021e-3f,
    4.397072363644838e-3f,  3.1699584797024727e-3f, 1.942844595760107e-3f,
    7.157306536100805e-4f,  1.1469805613160133e-3f, 2.344857668504119e-3f,
    3.5427347756922245e-3f, 4.740611650049686e-3f,  4.9519846215844154e-3f,
    3.782647429034114e-3f,  2.613310469314456e-3f,  1.4439737424254417e-3f,
    2.746368118096143e-4f,  4.756950947921723e-4f,  1.6171716852113605e-3f,
    2.758648479357362e-3f,  3.9001251570880413e-3f, 5.041601601988077e-3f,
    4.457120783627033e-3f,  3.342840587720275e-3f,  2.2285603918135166e-3f,
    1.1142801959067583e-3f};
